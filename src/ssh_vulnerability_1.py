import os

# Introduce a CVE into AGL related to insecure SSH configuration
def introduce_insecure_ssh_config():
    vulnerable_config = "PermitRootLogin yes\nPasswordAuthentication yes"
    ssh_config_path = "/etc/ssh/sshd_config"

    print(f"Introducing CVE by modifying {ssh_config_path} to allow root login and password authentication...")
    with open(ssh_config_path, 'a') as ssh_config_file:
        ssh_config_file.write(vulnerable_config)
    
    print("Restarting SSH service to apply changes...")
    os.system("systemctl restart sshd")


introduce_insecure_ssh_config()
